<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bandeali Enterprises Discount Wheel</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: Arial, sans-serif;
      background: #000;
      color: #fff;
    }

    /* Animated background gradient */
    body::before {
      content: "";
      position: absolute;
      width: 200%;
      height: 200%;
      background: linear-gradient(270deg, #ff4e50, #1fddff, #28a745, #f9d423);
      background-size: 800% 800%;
      animation: gradientBG 20s ease infinite;
      z-index: -2;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Floating particles */
    .particle {
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.5);
      animation: float 10s infinite;
      z-index: -1;
    }
    @keyframes float {
      from { transform: translateY(100vh) scale(0.5); opacity: 0; }
      50% { opacity: 1; }
      to { transform: translateY(-10vh) scale(1); opacity: 0; }
    }

    .wheel-container {
      position: relative;
      width: 420px;
      height: 420px;
    }

    .wheel {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 10px solid #fff;
      overflow: hidden;
      position: relative;
      transition: transform 6s cubic-bezier(0.17, 0.67, 0.83, 0.67);
    }

    .segment {
      width: 50%;
      height: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform-origin: 0% 0%;
      text-align: center;
      line-height: 200px;
      font-weight: bold;
      font-size: 16px;
      color: #fff;
    }

    /* 8 segments (360/8 = 45Â° each) */
    .segment:nth-child(1) { transform: rotate(0deg) skewY(-45deg); background: #f44336; }
    .segment:nth-child(2) { transform: rotate(45deg) skewY(-45deg); background: #ff9800; }
    .segment:nth-child(3) { transform: rotate(90deg) skewY(-45deg); background: #4caf50; }
    .segment:nth-child(4) { transform: rotate(135deg) skewY(-45deg); background: #2196f3; }
    .segment:nth-child(5) { transform: rotate(180deg) skewY(-45deg); background: #9c27b0; }
    .segment:nth-child(6) { transform: rotate(225deg) skewY(-45deg); background: #00bcd4; }
    .segment:nth-child(7) { transform: rotate(270deg) skewY(-45deg); background: #ffc107; color: #000; }
    .segment:nth-child(8) { transform: rotate(315deg) skewY(-45deg); background: #8bc34a; }

    .center {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 120px;
      height: 120px;
      background: #fff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-weight: bold;
      font-size: 20px;
      color: #333;
      border: 4px solid #333;
      box-shadow: 0 0 20px rgba(255,255,255,0.7);
    }

    .center:hover {
      background: #333;
      color: #fff;
      transition: 0.3s;
    }

    .pointer {
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 25px solid transparent;
      border-right: 25px solid transparent;
      border-bottom: 40px solid #fff;
    }

    /* Popup */
    .popup {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.85);
      color: #fff;
      font-size: 36px;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      z-index: 1000;
      flex-direction: column;
      animation: fadeIn 0.5s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .popup button {
      margin-top: 20px;
      padding: 12px 24px;
      font-size: 20px;
      border: none;
      cursor: pointer;
      border-radius: 8px;
      background: #fff;
      color: #000;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <!-- Particles -->
  <div id="particles"></div>

  <div class="wheel-container">
    <div class="pointer"></div>
    <div id="wheel" class="wheel">
      <div class="segment">10% off<br>(upto â‚¹100)</div>
      <div class="segment">Better Luck<br>Next Time</div>
      <div class="segment">15% off<br>(upto â‚¹150)</div>
      <div class="segment">Flat â‚¹20 off</div>
      <div class="segment">20% off<br>(upto â‚¹200)</div>
      <div class="segment">Flat â‚¹30 off</div>
      <div class="segment">Better Luck<br>Next Time</div>
      <div class="segment">ðŸŽ§ Free Earphones</div>
    </div>
    <div class="center" onclick="spin()">SPIN</div>
  </div>

  <!-- Popup -->
  <div id="popup" class="popup">
    <div id="popupText"></div>
    <button onclick="closePopup()">OK</button>
    <canvas id="confetti"></canvas>
  </div>

  <script>
    let wheel = document.getElementById("wheel");
    let spinning = false;

    function spin() {
      if (spinning) return;
      spinning = true;

      let extraSpins = 5; 
      let randomDeg = Math.floor(Math.random() * 360);
      let finalDeg = 360 * extraSpins + randomDeg;

      wheel.style.transform = `rotate(${finalDeg}deg)`;

      setTimeout(() => {
        spinning = false;
        let result = getResult(randomDeg);
        showPopup(result);
        startConfetti();
      }, 6000);
    }

    function getResult(angle) {
      let normalized = angle % 360;
      if (normalized >= 0 && normalized < 45) return "10% off (upto â‚¹100)";
      if (normalized >= 45 && normalized < 90) return "Better Luck Next Time";
      if (normalized >= 90 && normalized < 135) return "15% off (upto â‚¹150)";
      if (normalized >= 135 && normalized < 180) return "Flat â‚¹20 off";
      if (normalized >= 180 && normalized < 225) return "20% off (upto â‚¹200)";
      if (normalized >= 225 && normalized < 270) return "Flat â‚¹30 off";
      if (normalized >= 270 && normalized < 315) return "Better Luck Next Time";
      if (normalized >= 315 && normalized < 360) return "ðŸŽ§ Free Earphones";
      return "Try Again";
    }

    function showPopup(result) {
      document.getElementById("popupText").innerHTML = "ðŸŽ‰ Congratulations!<br>" + result;
      document.getElementById("popup").style.display = "flex";
    }

    function closePopup() {
      document.getElementById("popup").style.display = "none";
      stopConfetti();
    }

    /* Floating particles background */
    for (let i = 0; i < 40; i++) {
      let p = document.createElement("div");
      p.className = "particle";
      p.style.width = p.style.height = Math.random() * 8 + "px";
      p.style.left = Math.random() * 100 + "vw";
      p.style.animationDuration = (5 + Math.random() * 10) + "s";
      document.getElementById("particles").appendChild(p);
    }

    /* Confetti animation */
    const confettiCanvas = document.getElementById("confetti");
    const ctx = confettiCanvas.getContext("2d");
    let confettiPieces = [];
    confettiCanvas.width = window.innerWidth;
    confettiCanvas.height = window.innerHeight;

    function startConfetti() {
      confettiPieces = [];
      for (let i = 0; i < 200; i++) {
        confettiPieces.push({
          x: Math.random() * confettiCanvas.width,
          y: Math.random() * confettiCanvas.height - confettiCanvas.height,
          r: Math.random() * 6 + 2,
          d: Math.random() * 200 + 50,
          color: "hsl(" + Math.random() * 360 + ",100%,50%)",
          tilt: Math.random() * 10 - 10,
          tiltAngleIncremental: Math.random() * 0.07 + .05,
          tiltAngle: 0
        });
      }
      requestAnimationFrame(drawConfetti);
    }

    function drawConfetti() {
      ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
      confettiPieces.forEach(p => {
        p.tiltAngle += p.tiltAngleIncremental;
        p.y += (Math.cos(p.d) + 3 + p.r / 2) / 2;
        p.x += Math.sin(0);
        ctx.beginPath();
        ctx.lineWidth = p.r;
        ctx.strokeStyle = p.color;
        ctx.moveTo(p.x + p.tilt + p.r / 2, p.y);
        ctx.lineTo(p.x + p.tilt, p.y + p.tilt + p.r / 2);
        ctx.stroke();
      });
      confettiPieces = confettiPieces.filter(p => p.y < confettiCanvas.height);
      if (confettiPieces.length > 0) {
        requestAnimationFrame(drawConfetti);
      }
    }

    function stopConfetti() {
      ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
    }
  </script>
</body>
</html>
