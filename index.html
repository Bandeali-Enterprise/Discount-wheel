<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bandeali Enterprises Discount Wheel</title>
  <!-- Google Font for Footer Text -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
  <style>
    html, body {
      margin: 0; padding: 0; min-height: 100vh;
      background: #111;
      font-family: Arial, Helvetica, sans-serif;
      overflow-x: hidden;
      color: #fff;
      box-sizing: border-box;
    }
    body::before {
      content: "";
      position: fixed; top: 0; left: 0; right: 0; bottom: 0;
      background: linear-gradient(270deg, #ffeb3b, #03a9f4, #e91e63, #9c27b0);
      background-size: 800% 800%;
      animation: gradientBG 30s ease infinite;
      z-index: -2;
    }
    @keyframes gradientBG {
      0% {background-position: 0% 60%;}
      50% {background-position: 100% 60%;}
      100% {background-position: 0% 60%;}
    }
    .main-container {
      margin-top: 2.5vh;
      width: 100vw; min-height: 90vh;
      display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
      position: relative;
    }
    .logo-top {
      margin-top: 2vh;
      margin-bottom: 2vh;
      max-width: 120px; height: auto;
      filter: drop-shadow(0 2px 14px #222);
      user-select: none;
    }
    .wheel-holder {
      position: relative;
      width: 96vw; max-width: 370px;
      aspect-ratio: 1/1;
      display: flex; align-items: center; justify-content: center;
      margin: auto;
    }
    .arrow-pointer {
      position: absolute;
      top: -36px; left: 50%;
      transform: translateX(-50%);
      width: 56px; height: 56px;
      z-index: 3;
    }
    /* SVG Wheel Styles */
    .svg-wheel {
      width: 100%; height: 100%; background: #222; border-radius: 50%;
      box-shadow: 0 0 32px 0 #000B, 0 0 0 8px #fff5;
      outline: 5px solid #fc0;
      user-select: none;
    }
    .spin-btn {
      position: absolute;
      top: 50%; left: 50%; transform: translate(-50%, -50%);
      width: 86px; height: 86px;
      background: #fff; color: #222; border-radius: 50%;
      border: 5px solid #fc0;
      font-size: 1.25rem; font-weight: bold;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; z-index: 4; user-select: none;
      box-shadow: 0 0 16px #fdc20685;
      letter-spacing: 1px;
      transition: scale 0.2s;
    }
    .spin-btn:active { scale: 1.07; background: #fc0; color: #222; }
    .bandeali-footer {
      margin-top: 28px; margin-bottom: 18px;
      font-size: 2.1rem;
      letter-spacing: 2px;
      font-family: 'Orbitron', Arial, sans-serif;
      color: #fdc206;
      filter: drop-shadow(0 2px 8px #222);
      text-align: center;
      user-select: none;
      font-weight: bold;
    }
    /* Popup Styles */
    .popup {
      position: fixed; top:0; left:0; width:100vw; height:100vh;
      background: rgba(0,0,0,0.96);
      display: none; flex-direction: column; align-items: center; justify-content: flex-start;
      z-index: 5000;
      padding-top: 40px;
      font-size: 2rem;
      text-align: center;
    }
    .popup-logo {
      max-width: 120px; margin-bottom: 25px;
      user-select: none;
    }
    .popup-text {
      font-size: 1.4rem; font-weight: bold; color: #fff;
      margin-bottom: 1.1rem;
      padding: 0 18px;
    }
    .popup button {
      margin-top: 20px; padding: 10px 32px; font-size:1.1rem;
      background: #fc0; color: #222; border: none;
      border-radius: 12px; font-weight: 700; box-shadow: 0 0 12px #fdc20684;
      cursor: pointer;
    }
    .popup button:active { background: #222; color:#fc0; }
    #fireworksCanvas {
      position: fixed;top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none;z-index: 5010;
    }
    @media(max-width: 600px) {
      .logo-top { max-width: 74px; }
      .svg-wheel { max-width: 95vw; }
      .arrow-pointer { width: 38px; height: 38px; top: -18px;}
      .spin-btn { width: 64px; height: 64px; font-size: .9rem; }
      .bandeali-footer { font-size: 1.3rem;}
      .popup { font-size: 1rem;}
      .popup-logo { max-width: 70px; }
    }
  </style>
</head>
<body>
  <div class="main-container">
    <img src="logo.jpg" alt="Bandeali Enterprises Logo" class="logo-top" />
    <div class="wheel-holder">
      <!-- Arrow Pointer (SVG for crispness) -->
      <svg class="arrow-pointer" viewBox="0 0 56 56">
        <circle cx="28" cy="16" r="10" fill="#fcc927" stroke="#b38d1d" stroke-width="3"/>
        <polygon points="28,7 52,40 4,40" fill="#fcc927" stroke="#b38d1d" stroke-width="4"/>
        <circle cx="28" cy="28" r="7" fill="#fff2c2" stroke="#b38d1d" stroke-width="2"/>
      </svg>
      <!-- Wheel SVG with segments in perfect circle -->
      <svg class="svg-wheel" id="wheel" viewBox="0 0 360 360">
        <g id="segments">
          <path d="M180,180 L180,30 A150,150 0 0,1 271.2,60.6 z" fill="#f44336"/>
          <text x="223" y="63" font-size="16" fill="#fff" font-weight="bold" text-anchor="middle" transform="rotate(22 222 63)">10% OFF (â‚¹100)</text>
          <path d="M180,180 L271.2,60.6 A150,150 0 0,1 330,150 z" fill="#ff9800"/>
          <text x="290" y="116" font-size="16" fill="#fff" font-weight="bold" text-anchor="middle" transform="rotate(67 289 116)">TRY AGAIN</text>
          <path d="M180,180 L330,150 A150,150 0 0,1 271.2,299.4 z" fill="#4caf50"/>
          <text x="285" y="243" font-size="16" fill="#fff" font-weight="bold" text-anchor="middle" transform="rotate(112 285 243)">15% OFF (â‚¹150)</text>
          <path d="M180,180 L271.2,299.4 A150,150 0 0,1 180,330 z" fill="#2196f3"/>
          <text x="220" y="315" font-size="16" fill="#fff" font-weight="bold" text-anchor="middle" transform="rotate(157 220 315)">FLAT â‚¹20 OFF</text>
          <path d="M180,180 L180,330 A150,150 0 0,1 88.8,299.4 z" fill="#9c27b0"/>
          <text x="140" y="315" font-size="16" fill="#fff" font-weight="bold" text-anchor="middle" transform="rotate(202 140 315)">20% OFF (â‚¹200)</text>
          <path d="M180,180 L88.8,299.4 A150,150 0 0,1 30,150 z" fill="#00bcd4"/>
          <text x="75" y="243" font-size="16" fill="#fff" font-weight="bold" text-anchor="middle" transform="rotate(247 75 243)">FLAT â‚¹30 OFF</text>
          <path d="M180,180 L30,150 A150,150 0 0,1 88.8,60.6 z" fill="#ffc107"/>
          <text x="70" y="116" font-size="16" fill="#333" font-weight="bold" text-anchor="middle" transform="rotate(292 70 116)">TRY AGAIN</text>
          <path d="M180,180 L88.8,60.6 A150,150 0 0,1 180,30 z" fill="#8bc34a"/>
          <text x="137" y="63" font-size="16" fill="#fff" font-weight="bold" text-anchor="middle" transform="rotate(337 137 63)">ðŸŽ§ FREE EARPHONES</text>
        </g>
        <!-- Center circle for aesthetics -->
        <circle cx="180" cy="180" r="40" fill="#fff" stroke="#fcc927" stroke-width="6"/>
        <text x="180" y="192" font-size="22" fill="#222" font-weight="bold" text-anchor="middle" alignment-baseline="middle">SPIN</text>
      </svg>
      <!-- Hidden clickable button for accessibility -->
      <div class="spin-btn" id="spinBtn" style="top:50%;left:50%;position:absolute;">SPIN</div>
    </div>
    <div class="bandeali-footer">BANDEALI ENTERPRISES</div>
  </div>
  <!-- Popup -->
  <div id="popup" class="popup">
    <img src="logo.jpg" alt="Logo" class="popup-logo"/>
    <div id="popupText" class="popup-text"></div>
    <button onclick="closePopup()">OK</button>
    <canvas id="fireworksCanvas"></canvas>
  </div>
  <script>
    // Responsive canvas for fireworks
    function resizeCanvas(){
      const canvas = document.getElementById("fireworksCanvas");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);

    // Wheel spin logic
    const spinBtn = document.getElementById('spinBtn');
    const wheelSVG = document.getElementById('wheel');
    let spinning = false;
    let deg = 0;

    function spin(){
      if(spinning) return;
      spinning = true;
      const extraSpins = 9; // 9 rounds, 8-10 seconds
      const randomDegree = Math.floor(Math.random() * 360);
      deg = 360 * extraSpins + randomDegree;
      wheelSVG.style.transition = 'transform 9s cubic-bezier(.19,.75,.54,.99)';
      wheelSVG.style.transform = `rotate(${deg}deg)`;
      setTimeout(() => {
        spinning = false;
        const result = getResult(randomDegree);
        showPopup(result);
        launchFireworks();
      }, 9200); // animation 9s
    }

    function getResult(angle){
      angle = angle % 360;
      if(angle >= 0 && angle < 45) return "ðŸ”¥ 10% OFF (â‚¹100)";
      if(angle >= 45 && angle < 90) return "ðŸ˜” TRY AGAIN";
      if(angle >= 90 && angle < 135) return "ðŸŽ 15% OFF (â‚¹150)";
      if(angle >= 135 && angle < 180) return "ðŸ’¸ FLAT â‚¹20 OFF";
      if(angle >= 180 && angle < 225) return "ðŸŽ‰ 20% OFF (â‚¹200)";
      if(angle >= 225 && angle < 270) return "ðŸ’µ FLAT â‚¹30 OFF";
      if(angle >= 270 && angle < 315) return "ðŸ˜“ TRY AGAIN";
      if(angle >= 315 && angle < 360) return "ðŸŽ§ FREE EARPHONES";
      return "Try Again";
    }

    function showPopup(text){
      document.getElementById("popupText").innerHTML = "ðŸŽ‰ Congratulations!<br>" + text;
      document.getElementById("popup").style.display = "flex";
      resizeCanvas();
    }

    function closePopup(){
      document.getElementById("popup").style.display = "none";
      fireworksObjs = [];
      if (fireworksInterval) clearInterval(fireworksInterval);
      const ctx = document.getElementById("fireworksCanvas").getContext("2d");
      ctx.clearRect(0,0,window.innerWidth,window.innerHeight);
      wheelSVG.style.transition = 'none';
      wheelSVG.style.transform = 'rotate(0deg)';
    }

    spinBtn.addEventListener('click', spin);
    spinBtn.addEventListener('touchstart', spin);

    // Fireworks animation logic
    let fireworksInterval = null, fireworksObjs = [];
    function launchFireworks(){
      const canvas = document.getElementById("fireworksCanvas");
      const ctx = canvas.getContext("2d");
      resizeCanvas();
      fireworksObjs = [];
      if (fireworksInterval) clearInterval(fireworksInterval);
      fireworksInterval = setInterval(()=>{
        fireworksObjs.push(new Firework(canvas));
        if (fireworksObjs.length > 12) fireworksObjs.shift();
      }, 700);
      drawLoop();
      function drawLoop(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        fireworksObjs.forEach(fw => {
          fw.update();
          fw.draw(ctx);
        });
        requestAnimationFrame(drawLoop);
      }
    }
    function Firework(canvas){
      this.x = canvas.width * (0.15 + 0.7 * Math.random());
      this.y = canvas.height;
      this.targetY = canvas.height * (0.3 + 0.55 * Math.random());
      this.color = `hsl(${Math.random()*360},100%,50%)`;
      this.particles = [];
      this.exploded = false;
      this.launchVY = -7 - Math.random()*2;
      this.vy = this.launchVY;
    }
    Firework.prototype.update = function(){
      if(!this.exploded){
        this.y += this.vy;
        this.vy += 0.13;
        if(this.y <= this.targetY){
          this.exploded = true;
          for(let i=0; i<40+Math.random()*28; i++){
            const angle = (Math.PI*2*i)/60;
            this.particles.push({
              x:this.x,y:this.y,
              vx:Math.cos(angle)*(2+Math.random()*2.8),
              vy:Math.sin(angle)*(2+Math.random()*2.8),
              alpha:1,
              color:this.color
            });
          }
        }
      }else{
        this.particles.forEach(p=>{
          p.x+=p.vx;p.y+=p.vy;p.vy+=0.05;
          p.alpha-=0.013+Math.random()*0.008;
        });
        this.particles=this.particles.filter(p=>p.alpha>0);
      }
    }
    Firework.prototype.draw=function(ctx){
      if(!this.exploded){
        ctx.beginPath();ctx.arc(this.x,this.y,3,0,Math.PI*2);
        ctx.fillStyle="#fff";ctx.fill();
      }else{
        this.particles.forEach(p=>{
          ctx.globalAlpha=p.alpha;ctx.fillStyle=p.color;
          ctx.beginPath();ctx.arc(p.x,p.y,2.6,0,Math.PI*2);
          ctx.fill();ctx.globalAlpha=1;
        });
      }
    }

    // Particle BG (optional, can remove if wheel BG is enough)
    (function(){
      const count = window.innerWidth < 600 ? 16 : 28;
      for(let i=0;i<count;i++){
        const p = document.createElement('div');
        p.className = 'particle';
        const size = Math.random()*7+2;
        p.style.width = p.style.height = size+'px';
        p.style.left = Math.random()*98+'vw';
        p.style.top = '-10vh';
        p.style.animationDuration = (5+Math.random()*7)+'s';
        p.style.animationDelay = (Math.random()*12)+'s';
        document.getElementById('particles').appendChild(p);
      }
    })();

  </script>
</body>
</html>
